<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> 
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> 
    
    <link rel="stylesheet" href="../../../fonts/academicons-1.8.6/css/academicons.min.css"/>
    <link rel="icon" type="image/png" sizes="32x32" href="../../../logo/bodhi.png"> 
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    
    
    <title>Bookdown制作图书&#43;GiteePages展示 - 阿狸的Blog</title>
    
     
    <meta property="og:title" content="Bookdown制作图书&#43;GiteePages展示 - Blog Lee | 阿狸的Blog">
    

    
      
    

    

    
    


<link href='//cdn.bootcss.com/highlight.js/9.12.0/styles/Xcode.min.css' rel='stylesheet' type='text/css' />



    <link rel="stylesheet" href="../../../css/style.css" />
    <link rel="stylesheet" href="../../../css/mystyle.css" /> 
    <link rel="stylesheet" href="../../../css/fonts.css" />
    
<script async src="../../../js/load-typekit.js"></script>


<link rel="stylesheet" href="../../../css/custom.css" />

  </head>
  
  <body class="cn">
    <header class="masthead">
      

<h1><a href="https://gitee.com/alingyisheng/tupian/raw/master/img/%E9%98%BF%E7%8B%B8%E5%A4%B4%E5%83%8F%201.png"><img src="../../../logo/ale.png" alt="阿狸的Blog" /></a></h1>
<p align="right" style="margin-top:-50px;"><small>><i>上士闻道<br>勤而行之</i></small></p>




      <nav class="menu">
        <input id="menu-check" type="checkbox" />
        <label id="menu-label" for="menu-check" class="unselectable">
          <span class="icon close-icon">✕</span>
          <span class="icon open-icon">☰</span>
          <span class="text">Menu</span>
        </label>
        <ul>
        
        
        <li><a href="../../../">首页</a></li>
        
        <li><a href="../../../cn/about/">关于</a></li>
        
        <li><a href="../../../cn/post/">博客</a></li>
        
        <li><a href="../../../cn/cv-cn/shixiang">简历</a></li>
        
        <li><a href="https://gitee.com/alingyisheng/tupian/raw/master/img/%E9%98%BF%E7%8B%B8%E7%9A%84Blog-%E4%BA%8C%E7%BB%B4%E7%A0%81.jpg">公众号</a></li>
        
        <li><a href="https://www.zhihu.com/people/aliyisheng">知乎</a></li>
        
        

<li class="menu-extra"></li>



<li><a href="https://github.com/jiaduoli2000/home/edit/master/content/cn%5cpost%5c2021-09-02-test%5cindex.md" target="_blank">编辑</a></li>


<li><a href="../../../cn/index.xml" type="application/rss+xml" title="RSS feed">订阅</a></li>

<li><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="Attribution-NonCommercial-ShareAlike 4.0 International">版权</a></li>


        </ul>
      </nav>
    </header>

    <article class="main">
      <header class="title">
        

<h1>Bookdown制作图书&#43;GiteePages展示</h1>



<h3>阿狸的Blog &middot 
2021-09-02</h3> 


<p style="text-align:right;">
  分类:
  
    <a href="https://jiaduoli2000.github.io/categories/r">r</a> &nbsp
  
  <br>
  标签:
  
    <a href="https://jiaduoli2000.github.io/tags/bookdown">bookdown</a> &nbsp
  
</p>



   
  


      </header>


<p>在读书时常常看到一些纸质书的前言介绍里会提供图书的<code>网页电子版本</code>，这个表达有一些拗口，暂且这样叫吧。比如说，这一本<a href="https://www.math.pku.edu.cn/teachers/lidf/docs/Rbook/html/_Rbook/bookdown.html">《 用bookdown制作图书》</a>。</p>
<p>这些<code>网页电子版本</code>的图书还会定期更新。这让我不禁感叹，这些书籍的作者真是细心。这种方法好像是把一本书赋予了生命，书中的内容会随着时间不断的修正成长。网页电子书的更新很便捷，耗时很短。不像是纸质书，比如说外科学名著《黄家驷外科学》那样，更新一次要耗时几年。所以，我有了奇怪的想法，如果有一天我也写一本书的话（可能性极小），我一定写成<code>网页电子书</code>。</p>
<p>虽然写书的愿望实现还很遥远，但现实中学习一下这种<code>网页电子书</code>的制作过程还是可以的。R语言有一个叫Bookdown的包，能够让我们制作网页电子图书，类似于gitbook，差别是在R软件中进行实现。当我们写好后可以直接通过git推送到github或gitee仓库。前几日我逐步了解了一些GiteePages的相关知识。今天，我把二者结合起来，所以今天的主题是：用Bookdown制作图书+用GiteePages展示。好吧，话不多说，开干：</p>
<h2 id="准备">准备</h2>
<p>这些软件是我已经安装好的，<a href="https://cran.r-project.org/"> R软件</a>，<a href="https://www.rstudio.com/">RStudio</a>,<a href="https://git-scm.com/">Git</a>，然后打开<code>RStudio</code>安装<code>R bookdown</code>包：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text"># you can either use the CRAN version
install.packages(&#39;bookdown&#39;)

# or the development version on Github
remotes::install_github(&#39;rstudio/bookdown&#39;)
</code></pre></div><h2 id="制作">制作</h2>
<p>在<code>RStudio</code>的菜单栏，点击<code>File</code>-<code>New Project</code>-<code>New Directory</code>，然后点击<code>book project using bookdown</code> ：</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901172152.png" alt="20210901172152">
  </span>
</p>
<p>设置文件名和路径，点击创建：</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901172625.png" alt="20210901172625">
  </span>
</p>
<p>创建好了之后，出现的页面：</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901172747.png" alt="20210901172747">
  </span>
</p>
<h2 id="启动git">启动git</h2>
<p>在面板中找到下图中的<code>Terminal</code>，</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901183004.png" alt="20210901183004">
  </span>
</p>
<p>然后在命令行输入：<code>git init</code>,</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901183434.png" alt="20210901183434">
  </span>
</p>
<p>然后在命令行输入：<code>git add .</code>, 这里注意在<code>&quot; .&quot;</code>前面有一个<code>空格</code>,</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901183655.png" alt="20210901183655">
  </span>
</p>
<p>然后在命令行输入：<code>git commit -m &quot;initial bookdown template&quot;</code>,</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901184219.png" alt="20210901184219">
  </span>
</p>
<p>然后在命令行输入：<code>git status </code>, 可以看到所有更改都已提交。</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901184436.png" alt="20210901184436">
  </span>
</p>
<h2 id="调整模板设置">调整模板设置</h2>
<p>我们对bookdown包中自带的模板进行一些设置，这里我们要导出的格式是<code>html</code>，所以可以删除<code>pdf</code>等格式。</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901185101.png" alt="20210901185101">
  </span>
</p>
<p>在上图中找到<code>_output.yml</code>, 单击打开文件，删除<strong>带有阴影</strong>的部分，然后<strong>保存</strong>。</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901185323.png" alt="20210901185323">
  </span>
</p>
<p>同法打开文件：<code>_bookdown.yml</code>, 在其中指定输出文件夹，增加一行内容：<code>output_dir: &quot;docs&quot;</code>,  然后<strong>保存</strong>，一定记得保存。</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901190050.png" alt="20210901190050">
  </span>
</p>
<p>修改了这两个文件后，我们在<code>git</code>里查看一下，输入：<code>git status</code>, 这里显示：changes not staged  for commit，</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901190701.png" alt="20210901190701">
  </span>
</p>
<p>Terminal中输入：</p>
<pre><code>git add _output.yml 
git add _bookdown.yml
git commit -m &quot;chang bookdown output default&quot;
</code></pre><p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901191631.png" alt="20210901191631">
  </span>
</p>
<h2 id="构建图书">构建图书</h2>
<p>下面我们来构建电子书，来到下面这个界面，找到<code>build</code>，然后点击<code>build book</code>，</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901192136.png" alt="20210901192136">
  </span>
</p>
<p>在弹出的对话框中我们可以看到，电子书已经构建好了，这个<strong>网页电子书</strong>左侧有大纲，还具有<strong>搜索</strong>和<strong>下载</strong>的功能。</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901192336.png" alt="20210901192336">
  </span>
</p>
<p>构建完成后，我们再查看文件目录，会看到生成了两个文件夹，再<code>_bookdown_files</code>文件夹中存储的是R中生成的图片文件，<code>docs</code>文件夹我们用来部署GiteePages。</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https:/gitee.com/alingyisheng/tupian2/raw/master/20210901192929.png" alt="20210901192929">
  </span>
</p>
<p>我们可以通过设置来忽略<code>_bookdown_files</code>，具体方法是打开<code>.gitignore</code>文件后，添加:<code>_bookdown_files</code>, 然后输入:</p>
<pre><code>git add .gitignore
git commit -m &quot;ignore bookdown files created on build&quot;
</code></pre><p>我这里就略过了。有点啰嗦了，谁让我是个小白呢，</p>
<h2 id="主角上场">主角上场</h2>
<p>该看一看我们的主角<code>docs</code>文件夹了，里面主要是一些<code>.html</code>文件。这些是构建我们<code>网页电子书</code>的主要成分。</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901195054.png" alt="20210901195054">
  </span>
</p>
<p>把<code>docs</code>文件夹提交到<strong>git</strong>，输入以下命令：</p>
<pre><code>git add docs/
git commit -m &quot;bulid initial websit&quot;
</code></pre><p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901200048.png" alt="20210901200048">
  </span>
</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901200200.png" alt="20210901200200">
  </span>
</p>
<p>到此，在<strong>R studio</strong> 中的操作暂停一下。</p>
<h2 id="建立仓库">建立仓库</h2>
<p>我们来到<a href="https://gitee.com">码云Gitee- Gitee.com</a>，新建一个仓库：</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901201149.png" alt="20210901201149">
  </span>
</p>
<p>复制仓库地址：</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901201341.png" alt="20210901201341">
  </span>
</p>
<h2 id="回到r">回到R</h2>
<p>在<strong>R studio</strong>中，输入代码：</p>
<pre><code>git remote add origin https://gitee.com/alingyisheng/book-of-alee.git
git push -u origin master
</code></pre><p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901202100.png" alt="20210901202100">
  </span>
</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901202226.png" alt="20210901202226">
  </span>
</p>
<p>这里报错了，为什么呢，研究了半天，最终是因为我设置了私钥，所以我用TortoiseGit来加入私钥，保存就可以了。关于TortoiseGit的简单用法，我之前介绍过<a href="https://zhuanlan.zhihu.com/p/405321511">不懂代码，如何推送本地内容到码云（Gitee）？</a></p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901204650.png" alt="20210901204650">
  </span>
</p>
<p>好吧，再来一次，这回输入的代码做了个调整，注意这里把<code>origin</code>改成了<code>alee</code>，到现在这个小白才明白**<code>origin</code>**是啥意思了，原来是远端的名称，是可以更改的呀。</p>
<pre><code>git remote add alee https://gitee.com/alingyisheng/book-of-alee.git
git push -u alee master
</code></pre><p>但是，仍然报错了。原因不清，若你知道的话，可以留言告诉我。</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901210205.png" alt="20210901210205">
  </span>
</p>
<p>有些问题如果找不到解决方法，就会不了了之，因而就不会有这篇博文，或者永远不会分享给你。好在，我在<strong>TortoiseGit</strong>软件中发现了这个选项功能，俩字”<strong>强制</strong>“，点击之后推送成功。哈哈，这种喜悦之情又消耗了多少我的多巴胺。自己挖坑，掉坑，填坑，然后跳出来笑，还洋洋得意，人生中的多少事似乎都是这样，难道人生就是挖坑，填坑的过程？等到挖不动、填不动了，就躺平，等待后人来挖来填！我 是不是就在享受这个挖坑过程？不得而知。</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901210111.png" alt="20210901210111">
  </span>
</p>
<h2 id="展示结果">展示结果</h2>
<p>回到Gitee里新建的仓库，刷新一下网页，然后再查看，<code>docs</code>文件夹已经被上传到了仓库里。</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="../z%20-%20Attachments%20I%20%e9%99%84%e4%bb%b6/Pasted%20image%2020210901212300.png" alt="">
  </span>
</p>
<p>然后在<strong>服务</strong>里找到<code>Gitee Pages</code>，点击进入。</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901212347.png" alt="20210901212347">
  </span>
</p>
<p>安装下面图片中选择后<strong>启动</strong>，等待部署完成，完成后会给出一个网址。</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901212647.png" alt="20210901212647">
  </span>
</p>
<p>就是这个网址：<a href="https://alingyisheng.gitee.io/book-of-alee">https://alingyisheng.gitee.io/book-of-alee</a>，点进去悄悄吧。</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901212921.png" alt="20210901212921">
  </span>
</p>
<p>在浏览器里悄悄吧，这里的内容是原模板的，我一点也没有修改。</p>
<p><style>
  .img-container {
    text-align: center;
    display: block;
  }
</style>

  <img src="https://gitee.com/alingyisheng/tupian2/raw/master/20210901213102.png" alt="20210901213102">
  </span>
</p>
<h2 id="大结局">大结局</h2>
<p>这次折腾结束了，我尽量记录的详细，为什么呢？一是因为随着年龄的增长，我的记忆力开始衰退了，脑袋记不住，只能记在本本上了，应了那句我妈从小就教导我的”好记性不如烂笔头“。二是我认识到，我早晚还会掉入同一个坑，这么多年，所有的事都是这样，虽然每个坑都不一样，但掉坑的原理从来没变。也许我也是个被别人编程好的机器人，走固定的路，掉同样的坑。</p>


  <footer>
  
<nav class="post-nav">
  <span class="nav-prev">&larr; <a href="../../../cn/post/how-to-connected-zotero-scrivenet/">使用Zotero和Scrivener进行配合写作</a></span>
  <span class="nav-next"></span>
</nav>
<script type="text/javascript">
document.addEventListener('keyup', function(e) {
  if (e.target.nodeName.toUpperCase() != 'BODY') return;
  var url = false;
  if (e.which == 37) {  
    
    url = '\/cn\/post\/how-to-connected-zotero-scrivenet\/';
    
  } else if (e.which == 39) {  
    
  }
  if (url) window.location = url;
});
</script>





<div id="gitalk-container"></div>
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js"></script>
<script>
  const gitalk = new Gitalk({
    clientID: '7e6bbc8ded3722b80669',
    clientSecret: '29d16bd7fe99b0bb6a9d0be33755c9d6d2a8a9dc',
    repo: 'home',
    owner: 'jiaduoli2000',
    admin: ['jiaduoli2000'],
    id: md5(window.location.pathname), 
    distractionFreeMode: false 
  });
  (function() {
    if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
      document.getElementById('gitalk-container').innerHTML = 'Gitalk comments not available by default when the website is previewed locally.';
      return;
    }
    gitalk.render('gitalk-container');
  })();
</script>





<script async src="../../../js/fix-toc.js"></script>

<script async src="../../../js/center-img.js"></script>

<script async src="../../../js/right-quote.js"></script>

<script async src="../../../js/no-highlight.js"></script>

<script async src="../../../js/fix-footnote.js"></script>

<script async src="../../../js/math-code.js"></script>

<script async src="../../../js/external-link.js"></script>

<script async src="../../../js/alt-title.js"></script>

<script async src="../../../js/header-link.js"></script>


<script src="//yihui.org/js/math-code.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script async src="//yihui.org/js/center-img.js"></script>

  



<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/tex.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>




  
  
  

  <div class="copyright"><a href="mailto:bettermost@yeah.net"><i class='far fa-envelope fa-1x'></i></a> · <a href="https://github.com/jiaduoli2000"><i class='fab fa-github fa-1x'></i></a> · <a href="https://scholar.google.com/citations?view_op=list_works&amp;hl=zh-CN&amp;user=TC7LswQAAAAJ=zh-CN"><i class='ai ai-google-scholar ai-1x'></i></a> <br> 本站由 <a href="https://gohugo.io">Hugo</a> 和 <a href="https://bookdown.org/yihui/blogdown/">Blogdown</a> 强力驱动 © <a href="../../../">阿狸的Blog</a> 2021 - 2023 </div>
  
  

  <script type="text/javascript" src="//rf.revolvermaps.com/0/0/6.js?i=56h9es09xn7&amp;m=6&amp;c=ff0000&amp;cr1=ffffff&amp;f=arial&amp;l=1" async="async"></script>
  </footer>
  </article>
  
  </body>
</html>

